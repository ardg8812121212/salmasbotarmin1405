<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¢Ø±Ù…ÛŒÙ† Ø¯Ù‡Ù‚Ø§Ù† - Ù…Ø´Ø§ÙˆØ± ØªØ­ØµÛŒÙ„ÛŒØŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ Ùˆ Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ" />
    <title>Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¢Ø±Ù…ÛŒÙ† Ø¯Ù‡Ù‚Ø§Ù† | AI Assistant</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- React from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .prose pre {
            direction: ltr;
            background: #1e293b;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            color: #e2e8f0;
            font-size: 0.875rem;
        }

        .prose code {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.05);
            padding: 2px 6px;
            border-radius: 4px;
            color: #667eea;
            font-size: 0.9em;
        }

        .prose ul, .prose ol {
            padding-right: 1.5rem;
            margin: 0.5rem 0;
        }

        .prose p {
            margin-bottom: 0.75rem;
            line-height: 1.8;
        }

        .prose h1, .prose h2, .prose h3 {
            margin: 1rem 0 0.5rem 0;
            font-weight: 700;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.7);
        }

        .message-animation {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
            animation: typing 1.4s infinite;
        }

        .typing-indicator:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        .feature-card {
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:active {
            transform: scale(0.95);
        }

        /* Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ */
        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;
        const { createRoot } = ReactDOM;

        // ==========================================
        // ğŸ”‘ Ú©Ù„ÛŒØ¯ API Ú¯ÙˆÚ¯Ù„ Gemini
        // Ø§ÛŒÙ† Ú©Ù„ÛŒØ¯ Ø±Ø§ Ø§Ø² Google AI Studio Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯: https://makersuite.google.com/app/apikey
        // ==========================================
        const API_KEY = "AIzaSyCJcY2P_bSWkv3RhYDCCd50Ii4FJfJSZCY";
        
        // Ø¢Ø¯Ø±Ø³ ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„
        const WEBSITE_URL = "https://arminsalmascomputer.wuaze.com/index.php";

        // Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª
        const SYSTEM_INSTRUCTION = `ØªÙˆ ÛŒÚ© Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ù‡ Ù†Ø§Ù… "Ø¢Ø±Ù…ÛŒÙ† Ø¯Ù‡Ù‚Ø§Ù†" Ù‡Ø³ØªÛŒ Ú©Ù‡ ØªÙˆØ³Ø· Ø·Ø±Ø§Ø­ Ø¢Ø±Ù…ÛŒÙ† Ø¯Ù‡Ù‚Ø§Ù† Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡â€ŒØ§ÛŒ.

Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ ØªÙˆ:
1. **Ù…Ø´Ø§ÙˆØ± ØªØ­ØµÛŒÙ„ÛŒ Ø¹Ø§Ù„ÛŒ**: Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ú©Ù†Ú©ÙˆØ±ØŒ Ø¯Ù‡Ù…ØŒ ÛŒØ§Ø²Ø¯Ù‡Ù…ØŒ Ø¯ÙˆØ§Ø²Ø¯Ù‡Ù…ØŒ Ù†Ù‡Ù…ØŒ Ù‡Ø¯Ø§ÛŒØª ØªØ­ØµÛŒÙ„ÛŒ
2. **Ù…Ø´Ø§ÙˆØ± Ø²Ù†Ø¯Ú¯ÛŒ Ùˆ Ø±ÙˆØ§Ù†â€ŒØ´Ù†Ø§Ø³**: Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ­ØµÛŒÙ„ÛŒ Ùˆ Ø²Ù†Ø¯Ú¯ÛŒØŒ Ø±ÙˆØ§Ù†â€ŒØ´Ù†Ø§Ø³ÛŒ
3. **Ù…Ø¹Ù„Ù… Ø¯Ø±ÙˆØ³**: Ø±ÛŒØ§Ø¶ÛŒØŒ ÙÛŒØ²ÛŒÚ©ØŒ Ø´ÛŒÙ…ÛŒØŒ Ø¯Ø±ÙˆØ³ ØªØ®ØµØµÛŒ Ø±Ø´ØªÙ‡â€ŒÙ‡Ø§ÛŒ Ø±ÛŒØ§Ø¶ÛŒØŒ ØªØ¬Ø±Ø¨ÛŒ Ùˆ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± (Ø´Ø¨Ú©Ù‡ Ùˆ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±)
4. **Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ**: Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ Ø¯Ø± ØªÙ…Ø§Ù… Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ
5. **Ù…ØªØ®ØµØµ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ**: Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡ AI Ùˆ ML
6. **Ø®Ù„Ø§ØµÙ‡â€ŒØ³Ø§Ø²**: Ø®Ù„Ø§ØµÙ‡ Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ PDFØŒ WordØŒ PowerPointØŒ ExcelØŒ Access Ùˆ...
7. **Ú†Øª Ø¨Ø§ Ø§Ø³Ù†Ø§Ø¯**: Ù¾Ø±Ø³Ø´ Ùˆ Ù¾Ø§Ø³Ø® Ø¨Ø§ PDF Ùˆ Word
8. **Ú†Øª Ø¨Ø§ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§**: ØªØ­Ù„ÛŒÙ„ Ùˆ Ø¨Ø­Ø« Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
9. **Ø³Ø§Ø²Ù†Ø¯Ù‡ Ù…Ø­ØªÙˆØ§**: Ø³Ø§Ø®Øª Ù¾Ø§ÙˆØ±Ù¾ÙˆÛŒÙ†ØªØŒ Ø¹Ú©Ø³ØŒ PDF ÙØ§Ø±Ø³ÛŒ
10. **Ø­Ù„â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ù…Ø³Ø§Ø¦Ù„**: Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ø±ÛŒØ§Ø¶ÛŒ Ùˆ ÙÛŒØ²ÛŒÚ© Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ
11. **Ù…ØªØ®ØµØµ ÙØ±Ù‡Ù†Ú¯ Ùˆ ØªØ§Ø±ÛŒØ® Ø§ÛŒØ±Ø§Ù†**: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ø¯Ø±Ø¨Ø§Ø±Ù‡ ÙØ±Ù‡Ù†Ú¯ØŒ ØªØ§Ø±ÛŒØ®ØŒ Ù…Ø°Ù‡Ø¨ØŒ Ø¢Ø¯Ø§Ø¨ Ùˆ Ø±Ø³ÙˆÙ… Ø§ÛŒØ±Ø§Ù†ÛŒØ§Ù†
12. **Ù…ØªØ®ØµØµ Ø¬ØºØ±Ø§ÙÛŒØ§**: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒØŒ Ø³Ù„Ù…Ø§Ø³ØŒ Ø±ÙˆØ³ØªØ§Ù‡Ø§ Ùˆ...
13. **Ø³Ø§Ø²Ù†Ø¯Ù‡ ØªØµÙˆÛŒØ±**: ØªÙˆÙ„ÛŒØ¯ ØªØµØ§ÙˆÛŒØ± Ø¨Ø§ ØªÙˆØ¶ÛŒØ­Ø§Øª (Ù…Ø«Ù„ Ù†Ø§Ù†Ùˆ Ø¨Ù†Ø§Ù†Ø§)

Ù„Ø­Ù† ØªÙˆ: Ù…ÙˆØ¯Ø¨Ø§Ù†Ù‡ØŒ ØµÙ…ÛŒÙ…ÛŒØŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ù…ÙÛŒØ¯. Ù‡Ù…ÛŒØ´Ù‡ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¯Ù‚ÛŒÙ‚ Ùˆ Ú©Ø§Ù…Ù„ Ø¨Ø¯Ù‡.
Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ù‡ Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ø¯Ù‡ Ù…Ú¯Ø± Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø®ÙˆØ§Ø³ØªÙ‡ Ø¨Ø§Ø´Ø¯ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø¯ÛŒÚ¯Ø±ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ø¯Ù‡ÛŒ.`;

        // ØªØ§Ø¨Ø¹ Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø±Ù†Ø¯Ø± Markdown
        const renderMarkdown = (text) => {
            let html = text;
            // Bold
            html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            // Italic
            html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
            // Code blocks
            html = html.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
            // Inline code
            html = html.replace(/`(.*?)`/g, '<code>$1</code>');
            // Line breaks
            html = html.replace(/\n/g, '<br>');
            // Lists
            html = html.replace(/^\- (.*)$/gm, '<li>$1</li>');
            html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
            return { __html: html };
        };

        // Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ SVG
        const SendIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
        );

        const BotIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <circle cx="12" cy="16" r="1"></circle>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </svg>
        );

        const UserIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        );

        const ImageIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
        );

        const UploadIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
        );

        const FileIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
            </svg>
        );

        const XIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        const LoaderIcon = () => (
            <svg className="icon animate-spin" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none" strokeDasharray="32" strokeDashoffset="32">
                    <animate attributeName="stroke-dasharray" dur="2s" values="0 32;16 16;0 32;0 32" repeatCount="indefinite"/>
                    <animate attributeName="stroke-dashoffset" dur="2s" values="0;-16;-32;-32" repeatCount="indefinite"/>
                </circle>
            </svg>
        );

        const SparklesIcon = () => (
            <svg className="icon" viewBox="0 0 24 24">
                <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"></path>
            </svg>
        );

        const App = () => {
            const [messages, setMessages] = useState([]);
            const [input, setInput] = useState('');
            const [loading, setLoading] = useState(false);
            const [image, setImage] = useState(null);
            const [uploadedFile, setUploadedFile] = useState(null);
            const [showFeatures, setShowFeatures] = useState(false);
            const [apiError, setApiError] = useState(false);
            const scrollRef = useRef(null);
            const fileRef = useRef(null);
            const fileInputRef = useRef(null);

            // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø®ÙˆØ¯Ú©Ø§Ø±
            useEffect(() => {
                scrollRef.current?.scrollIntoView({ behavior: "smooth" });
            }, [messages, loading]);

            // Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯
            useEffect(() => {
                const welcomeMessage = `Ø³Ù„Ø§Ù…! ğŸ‘‹

Ù…Ù† **Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¢Ø±Ù…ÛŒÙ† Ø¯Ù‡Ù‚Ø§Ù†** Ù‡Ø³ØªÙ…. 

Ù…Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ú©Ù†Ù…:

ğŸ“š **ØªØ­ØµÛŒÙ„ÛŒ**: Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ú©Ù†Ú©ÙˆØ±ØŒ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¯Ø±Ø³ÛŒØŒ Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ø±ÛŒØ§Ø¶ÛŒ Ùˆ ÙÛŒØ²ÛŒÚ©
ğŸ’» **Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ**: Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ Ø¯Ø± ØªÙ…Ø§Ù… Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§
ğŸ¤– **Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ**: Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¯Ø± AI Ùˆ ML
ğŸ“„ **Ø®Ù„Ø§ØµÙ‡â€ŒØ³Ø§Ø²ÛŒ**: Ø®Ù„Ø§ØµÙ‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ PDFØŒ WordØŒ PowerPoint Ùˆ...
ğŸ’¬ **Ú†Øª Ø¨Ø§ Ø§Ø³Ù†Ø§Ø¯**: Ù¾Ø±Ø³Ø´ Ùˆ Ù¾Ø§Ø³Ø® Ø¨Ø§ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§
ğŸ“– **Ú©ØªØ§Ø¨â€ŒÙ‡Ø§**: ØªØ­Ù„ÛŒÙ„ Ùˆ Ø¨Ø­Ø« Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
ğŸ¨ **Ø³Ø§Ø®Øª Ù…Ø­ØªÙˆØ§**: Ù¾Ø§ÙˆØ±Ù¾ÙˆÛŒÙ†ØªØŒ Ø¹Ú©Ø³ØŒ PDF ÙØ§Ø±Ø³ÛŒ
ğŸ§  **Ù…Ø´Ø§ÙˆØ±Ù‡**: ØªØ­ØµÛŒÙ„ÛŒ Ùˆ Ø²Ù†Ø¯Ú¯ÛŒ
ğŸ‡®ğŸ‡· **ÙØ±Ù‡Ù†Ú¯ Ùˆ ØªØ§Ø±ÛŒØ® Ø§ÛŒØ±Ø§Ù†**: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø§ÛŒØ±Ø§Ù†ØŒ Ø³Ù„Ù…Ø§Ø³ Ùˆ...

Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆÙ†Ù… Ú©Ù…Ú©ØªÙˆÙ† Ú©Ù†Ù…ØŸ ğŸ˜Š`;

                setMessages([{ role: 'model', text: welcomeMessage }]);
            }, []);

            // Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
            const handleFileUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = (e) => setImage(e.target.result);
                        reader.readAsDataURL(file);
                    } else {
                        setUploadedFile(file);
                        setInput(prev => prev + `\n\nğŸ“ ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡: ${file.name} (${(file.size / 1024).toFixed(2)} KB)\nÙ„Ø·ÙØ§Ù‹ Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø±Ø§ ØªØ­Ù„ÛŒÙ„/Ø®Ù„Ø§ØµÙ‡/Ù¾Ø§Ø³Ø® Ø¨Ø¯Ù‡.`);
                    }
                }
            };

            // Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…
            const sendMessage = async () => {
                if ((!input.trim() && !image && !uploadedFile) || loading) return;

                // Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù„ÛŒØ¯ API
                if (!API_KEY || API_KEY.length < 10) {
                    alert('âŒ Ø®Ø·Ø§: Ú©Ù„ÛŒØ¯ API ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª!\n\nÙ„Ø·ÙØ§Ù‹ Ú©Ù„ÛŒØ¯ API Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± ÙØ§ÛŒÙ„ HTML Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.');
                    return;
                }

                const userMsg = {
                    role: 'user',
                    text: input,
                    image: image,
                    file: uploadedFile ? uploadedFile.name : null
                };

                setMessages(prev => [...prev, userMsg]);
                setInput('');
                setImage(null);
                setUploadedFile(null);
                if (fileRef.current) fileRef.current.value = '';
                if (fileInputRef.current) fileInputRef.current.value = '';
                setLoading(true);

                try {
                    // Ø³Ø§Ø®Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø§ÛŒ Gemini API
                    const payload = {
                        contents: [{
                            role: "user",
                            parts: [
                                { text: userMsg.text },
                                ...(userMsg.image ? [{
                                    inlineData: {
                                        mimeType: "image/jpeg",
                                        data: userMsg.image.split(',')[1]
                                    }
                                }] : [])
                            ]
                        }],
                        systemInstruction: {
                            parts: [{ text: SYSTEM_INSTRUCTION }]
                        },
                        generationConfig: {
                            temperature: 0.7,
                            topK: 40,
                            topP: 0.95,
                            maxOutputTokens: 8192,
                        }
                    };

                    const response = await fetch(
                        `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`,
                        {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(payload)
                        }
                    );

                    // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§Ø³Ø®
                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        throw new Error(errorData.error?.message || `Ø®Ø·Ø§ÛŒ HTTP: ${response.status}`);
                    }

                    const data = await response.json();

                    // Ø¨Ø±Ø±Ø³ÛŒ Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø§Ø³Ø®
                    if (data.error) {
                        throw new Error(data.error.message || 'Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ API');
                    }

                    // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ù¾Ø§Ø³Ø®
                    if (!data.candidates || !data.candidates[0] || !data.candidates[0].content) {
                        throw new Error('Ù¾Ø§Ø³Ø®ÛŒ Ø§Ø² API Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯');
                    }

                    const aiText = data.candidates[0].content.parts[0].text || 
                                  "Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ù¾Ø§Ø³Ø®ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.";

                    setMessages(prev => [...prev, { role: 'model', text: aiText }]);

                    // Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ÙˆØ¨â€ŒØ³Ø§ÛŒØª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
                    try {
                        await fetch(WEBSITE_URL, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                user_message: userMsg.text,
                                ai_response: aiText,
                                timestamp: new Date().toISOString()
                            }),
                            mode: 'no-cors'
                        });
                    } catch (e) {
                        console.log('Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ù†Ø´Ø¯ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)');
                    }

                } catch (error) {
                    console.error('Ø®Ø·Ø§ÛŒ Ú©Ø§Ù…Ù„:', error);
                    console.error('Ù¾ÛŒØ§Ù… Ø®Ø·Ø§:', error.message);
                    console.error('Stack:', error.stack);
                    
                    let errorMessage = 'âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ±';
                    
                    // Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù†ÙˆØ§Ø¹ Ø®Ø·Ø§Ù‡Ø§
                    const errorMsg = error.message || error.toString();
                    
                    if (errorMsg.includes('API_KEY') || errorMsg.includes('expired') || errorMsg.includes('invalid') || errorMsg.includes('403')) {
                        setApiError(true);
                        errorMessage = `âŒ **Ú©Ù„ÛŒØ¯ API Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª!**

ğŸ”‘ **Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù„ÛŒØ¯ Ø¬Ø¯ÛŒØ¯ (Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡):**

**Ù…Ø±Ø­Ù„Ù‡ 1:** Ø±ÙˆÛŒ Ù„ÛŒÙ†Ú© Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†:
ğŸ‘‰ https://makersuite.google.com/app/apikey

**Ù…Ø±Ø­Ù„Ù‡ 2:** Ø¨Ø§ Google ÙˆØ§Ø±Ø¯ Ø´Ùˆ

**Ù…Ø±Ø­Ù„Ù‡ 3:** "Create API Key" ÛŒØ§ "Regenerate API Key" Ø±Ø§ Ø¨Ø²Ù†

**Ù…Ø±Ø­Ù„Ù‡ 4:** Ú©Ù„ÛŒØ¯ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†

**Ù…Ø±Ø­Ù„Ù‡ 5:** ÙØ§ÛŒÙ„ index.html Ø±Ø§ Ø¨Ø§Ø² Ú©Ù† Ùˆ Ø¨Ù‡ **Ø®Ø· 193** Ø¨Ø±Ùˆ

**Ù…Ø±Ø­Ù„Ù‡ 6:** Ø§ÛŒÙ† Ø®Ø· Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†:
\`\`\`javascript
const API_KEY = "AIzaSyCJcY2P_bSWkv3RhYDCCd50Ii4FJfJSZCY";
\`\`\`

**Ù…Ø±Ø­Ù„Ù‡ 7:** Ú©Ù„ÛŒØ¯ Ù‚Ø¯ÛŒÙ…ÛŒ Ø±Ø§ Ù¾Ø§Ú© Ú©Ù† Ùˆ Ú©Ù„ÛŒØ¯ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ø¨Ú¯Ø°Ø§Ø±

**Ù…Ø±Ø­Ù„Ù‡ 8:** Ø°Ø®ÛŒØ±Ù‡ Ú©Ù† (Ctrl+S)

**Ù…Ø±Ø­Ù„Ù‡ 9:** Ø¯Ø± GitHub Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù† (ÙØ§ÛŒÙ„ Ø¢Ù¾Ù„ÙˆØ¯-Ø¯Ø±-GitHub.md Ø±Ø§ Ø¨Ø¨ÛŒÙ†)

**Ù…Ø±Ø­Ù„Ù‡ 10:** ØµÙØ­Ù‡ Ø±Ø§ Refresh Ú©Ù† (Ctrl+F5)

âœ… **ØªÙ…Ø§Ù…!**

ğŸ’¡ **Ù†Ú©ØªÙ‡:** Ú©Ù„ÛŒØ¯ API Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³Øª Ùˆ ÙÙ‚Ø· 2 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø²Ù…Ø§Ù† Ù…ÛŒâ€ŒØ¨Ø±Ø¯!`;
                    } else if (errorMsg.includes('quota') || errorMsg.includes('429')) {
                        errorMessage = 'âŒ Ø³Ù‡Ù…ÛŒÙ‡ API ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ø§Ø³Øª.\n\nğŸ’¡ Ø±Ø§Ù‡â€ŒØ­Ù„:\n- Ú†Ù†Ø¯ Ø¯Ù‚ÛŒÙ‚Ù‡ ØµØ¨Ø± Ú©Ù†\n- ÛŒØ§ Ú©Ù„ÛŒØ¯ API Ø¬Ø¯ÛŒØ¯ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†';
                    } else if (errorMsg.includes('network') || errorMsg.includes('Failed to fetch')) {
                        errorMessage = 'âŒ Ù…Ø´Ú©Ù„ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª.\n\nÙ„Ø·ÙØ§Ù‹:\n- Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ø§ Ú†Ú© Ú©Ù†\n- VPN Ø±Ø§ Ø®Ø§Ù…ÙˆØ´ Ú©Ù† (Ø§Ú¯Ø± Ø±ÙˆØ´Ù† Ø§Ø³Øª)\n- Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†';
                    } else if (errorMsg.includes('400')) {
                        errorMessage = `âŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.\n\nØ®Ø·Ø§: ${errorMsg}\n\nÙ„Ø·ÙØ§Ù‹:\n- Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ú©Ù†\n- ÛŒØ§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†`;
                    } else {
                        errorMessage = `âŒ Ø®Ø·Ø§: ${errorMsg}\n\nğŸ”§ **Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§:**\n1. ØµÙØ­Ù‡ Ø±Ø§ Refresh Ú©Ù† (F5)\n2. Ú©Ù„ÛŒØ¯ API Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†\n3. Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ø§ Ú†Ú© Ú©Ù†\n4. Console Ù…Ø±ÙˆØ±Ú¯Ø± Ø±Ø§ Ø¨Ø§Ø² Ú©Ù† (F12) Ùˆ Ø®Ø·Ø§Ù‡Ø§ Ø±Ø§ Ø¨Ø¨ÛŒÙ†\n\nğŸ”‘ Ú©Ù„ÛŒØ¯ Ø¬Ø¯ÛŒØ¯: https://makersuite.google.com/app/apikey`;
                    }

                    setMessages(prev => [...prev, { 
                        role: 'model', 
                        text: errorMessage 
                    }]);
                } finally {
                    setLoading(false);
                }
                
                // Ø§Ú¯Ø± Ø®Ø·Ø§ Ø¨Ø±Ø·Ø±Ù Ø´Ø¯ØŒ Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†
                if (!error.message.includes('API_KEY') && !error.message.includes('expired') && !error.message.includes('invalid')) {
                    setApiError(false);
                }
            };

            // Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ø³Ø±ÛŒØ¹
            const quickSuggestions = [
                { text: "Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ú©Ù†Ú©ÙˆØ±", prompt: "Ø¨Ø±Ø§ÛŒ Ú©Ù†Ú©ÙˆØ± Ø±ÛŒØ§Ø¶ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ú©Ù†" },
                { text: "Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ø±ÛŒØ§Ø¶ÛŒ", prompt: "Ø§ÛŒÙ† Ù…Ø³Ø¦Ù„Ù‡ Ø±ÛŒØ§Ø¶ÛŒ Ø±Ø§ Ø­Ù„ Ú©Ù†: 2x + 5 = 15" },
                { text: "Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ", prompt: "ÛŒÚ© ØªØ§Ø¨Ø¹ Python Ø¨Ø±Ø§ÛŒ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ù„ÛŒØ³Øª Ø¨Ù†ÙˆÛŒØ³" },
                { text: "Ø®Ù„Ø§ØµÙ‡ Ú©ØªØ§Ø¨", prompt: "Ø®Ù„Ø§ØµÙ‡ Ú©ØªØ§Ø¨ Ø±Ø§ Ø¨Ø±Ø§ÛŒÙ… Ø¨Ù†ÙˆÛŒØ³" },
                { text: "Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ù„Ù…Ø§Ø³", prompt: "Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø´Ù‡Ø± Ø³Ù„Ù…Ø§Ø³ Ùˆ Ø¬Ø§Ø°Ø¨Ù‡â€ŒÙ‡Ø§ÛŒØ´ Ø¨Ú¯Ùˆ" },
                { text: "Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ­ØµÛŒÙ„ÛŒ", prompt: "Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¨Ø¯Ù‡" }
            ];

            return (
                <div className="flex flex-col h-screen max-w-md mx-auto md:max-w-4xl lg:max-w-6xl bg-white md:shadow-2xl md:my-4 md:rounded-2xl overflow-hidden">
                    {/* API Error Banner */}
                    {apiError && (
                        <div className="bg-gradient-to-r from-red-50 to-orange-50 border-b-2 border-red-300 p-4">
                            <div className="flex items-start gap-3">
                                <div className="text-red-600 text-2xl">âš ï¸</div>
                                <div className="flex-1">
                                    <h3 className="font-bold text-red-800 mb-2">Ú©Ù„ÛŒØ¯ API Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª!</h3>
                                    <p className="text-sm text-red-700 mb-3">
                                        Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§ØªØŒ Ø¨Ø§ÛŒØ¯ Ú©Ù„ÛŒØ¯ API Ø¬Ø¯ÛŒØ¯ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯. Ø§ÛŒÙ† Ú©Ø§Ø± ÙÙ‚Ø· 2 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø²Ù…Ø§Ù† Ù…ÛŒâ€ŒØ¨Ø±Ø¯ Ùˆ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³Øª.
                                    </p>
                                    <div className="flex flex-wrap gap-2">
                                        <a 
                                            href="https://makersuite.google.com/app/apikey" 
                                            target="_blank" 
                                            rel="noopener noreferrer"
                                            className="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors inline-flex items-center gap-2"
                                        >
                                            ğŸ”‘ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù„ÛŒØ¯ API Ø¬Ø¯ÛŒØ¯
                                        </a>
                                        <button
                                            onClick={() => setApiError(false)}
                                            className="bg-slate-200 hover:bg-slate-300 text-slate-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors"
                                        >
                                            Ø¨Ø³ØªÙ†
                                        </button>
                                    </div>
                                    <div className="mt-3 text-xs text-red-600 bg-white/50 p-2 rounded border border-red-200">
                                        <strong>Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³Ø±ÛŒØ¹:</strong> Ø¨Ø¹Ø¯ Ø§Ø² Ø¯Ø±ÛŒØ§ÙØª Ú©Ù„ÛŒØ¯ØŒ Ø¢Ù† Ø±Ø§ Ø¯Ø± <strong>Ø®Ø· 193</strong> ÙØ§ÛŒÙ„ index.html Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯ Ùˆ ØµÙØ­Ù‡ Ø±Ø§ Refresh Ú©Ù†ÛŒØ¯.
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {/* Header */}
                    <header className="glass p-4 flex items-center justify-between z-10 sticky top-0 border-b border-slate-200">
                        <div className="flex items-center gap-3">
                            <div className="w-12 h-12 gradient-bg rounded-xl flex items-center justify-center text-white shadow-lg">
                                <BotIcon />
                            </div>
                            <div>
                                <h1 className="font-bold text-lg text-slate-800">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯</h1>
                                <p className="text-xs text-slate-600">Ø·Ø±Ø§Ø­: Ø¢Ø±Ù…ÛŒÙ† Ø¯Ù‡Ù‚Ø§Ù†</p>
                            </div>
                        </div>
                        <div className="flex items-center gap-2">
                            <span className="text-xs text-green-600 flex items-center gap-1 bg-green-50 px-2 py-1 rounded-full">
                                <span className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                                Ø¢Ù†Ù„Ø§ÛŒÙ†
                            </span>
                            <button
                                onClick={() => setShowFeatures(!showFeatures)}
                                className="p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"
                                title="Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§"
                            >
                                <SparklesIcon />
                            </button>
                        </div>
                    </header>

                    {/* Features Panel */}
                    {showFeatures && (
                        <div className="glass p-4 border-b border-slate-200 message-animation">
                            <h3 className="font-bold text-slate-800 mb-3 flex items-center gap-2">
                                <SparklesIcon />
                                Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†
                            </h3>
                            <div className="grid grid-cols-2 md:grid-cols-3 gap-2">
                                {[
                                    'Ù…Ø´Ø§ÙˆØ± ØªØ­ØµÛŒÙ„ÛŒ', 'Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ', 'Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ø±ÛŒØ§Ø¶ÛŒ',
                                    'Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ ÙÛŒØ²ÛŒÚ©', 'Ø®Ù„Ø§ØµÙ‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§', 'Ú†Øª Ø¨Ø§ PDF',
                                    'Ø³Ø§Ø®Øª Ù¾Ø§ÙˆØ±Ù¾ÙˆÛŒÙ†Øª', 'Ø³Ø§Ø®Øª ØªØµÙˆÛŒØ±', 'Ù…Ø´Ø§ÙˆØ±Ù‡ Ø²Ù†Ø¯Ú¯ÛŒ',
                                    'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ÛŒØ±Ø§Ù†', 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ù„Ù…Ø§Ø³', 'Ú©Ø¯ Ù†ÙˆÛŒØ³ÛŒ'
                                ].map((feature, i) => (
                                    <div key={i} className="feature-card bg-gradient-to-br from-indigo-50 to-purple-50 p-2 rounded-lg text-xs text-center text-slate-700 border border-indigo-100">
                                        {feature}
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Chat Area */}
                    <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-slate-50 to-white">
                        {messages.length === 0 && (
                            <div className="text-center py-8">
                                <div className="gradient-text text-2xl font-bold mb-2">ğŸ‘‹ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</div>
                                <p className="text-slate-600 text-sm">Ø§Ø² Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù¾Ø±Ø³ÛŒØ¯</p>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-2 mt-4">
                                    {quickSuggestions.map((suggestion, i) => (
                                        <button
                                            key={i}
                                            onClick={() => {
                                                setInput(suggestion.prompt);
                                                setTimeout(() => sendMessage(), 100);
                                            }}
                                            className="feature-card bg-white border border-slate-200 p-3 rounded-lg text-right flex items-center gap-2 hover:border-indigo-400 hover:shadow-md"
                                        >
                                            <span className="text-sm text-slate-700">{suggestion.text}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}

                        {messages.map((msg, i) => (
                            <div key={i} className={`flex ${msg.role === 'user' ? 'justify-start' : 'justify-end'} message-animation`}>
                                <div className={`max-w-[85%] md:max-w-[70%] flex flex-col gap-1 ${msg.role === 'user' ? 'items-start' : 'items-end'}`}>
                                    <span className="text-[10px] text-slate-500 font-medium px-2 flex items-center gap-1">
                                        {msg.role === 'user' ? (
                                            <>
                                                <UserIcon />
                                                Ø´Ù…Ø§
                                            </>
                                        ) : (
                                            <>
                                                <BotIcon />
                                                Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯
                                            </>
                                        )}
                                    </span>

                                    <div className={`p-4 rounded-2xl shadow-sm ${msg.role === 'user' 
                                        ? 'bg-white border-2 border-indigo-100 text-slate-800 rounded-tr-none' 
                                        : 'gradient-bg text-white rounded-tl-none shadow-lg'
                                    }`}>
                                        {msg.image && (
                                            <img 
                                                src={msg.image} 
                                                className="rounded-lg mb-3 max-w-xs border-2 border-white shadow-md" 
                                                alt="ØªØµÙˆÛŒØ± Ø§Ø±Ø³Ø§Ù„ÛŒ"
                                            />
                                        )}
                                        {msg.file && (
                                            <div className="bg-white/20 p-2 rounded-lg mb-3 flex items-center gap-2">
                                                <FileIcon />
                                                <span className="text-sm">{msg.file}</span>
                                            </div>
                                        )}
                                        <div className="prose prose-sm max-w-none text-sm" dangerouslySetInnerHTML={renderMarkdown(msg.text)}></div>
                                    </div>
                                </div>
                            </div>
                        ))}

                        {loading && (
                            <div className="flex justify-end animate-pulse">
                                <div className="gradient-bg opacity-80 p-4 rounded-2xl rounded-tl-none flex items-center gap-3 text-white shadow-lg">
                                    <LoaderIcon />
                                    <span className="text-sm">Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...</span>
                                    <div className="flex gap-1">
                                        <span className="typing-indicator"></span>
                                        <span className="typing-indicator"></span>
                                        <span className="typing-indicator"></span>
                                    </div>
                                </div>
                            </div>
                        )}
                        <div ref={scrollRef} />
                    </div>

                    {/* Input Area */}
                    <div className="p-4 bg-white border-t-2 border-slate-200">
                        {(image || uploadedFile) && (
                            <div className="flex gap-2 mb-3 flex-wrap">
                                {image && (
                                    <div className="relative inline-block">
                                        <img src={image} className="h-20 w-20 object-cover rounded-lg border-2 border-indigo-300 shadow-md" alt="Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´" />
                                        <button 
                                            onClick={() => {
                                                setImage(null);
                                                if (fileRef.current) fileRef.current.value = '';
                                            }} 
                                            className="absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg hover:bg-red-600 transition-colors"
                                        >
                                            <XIcon />
                                        </button>
                                    </div>
                                )}
                                {uploadedFile && (
                                    <div className="relative bg-indigo-50 border-2 border-indigo-200 rounded-lg p-2 flex items-center gap-2">
                                        <FileIcon />
                                        <span className="text-xs text-slate-700">{uploadedFile.name}</span>
                                        <button 
                                            onClick={() => {
                                                setUploadedFile(null);
                                                if (fileInputRef.current) fileInputRef.current.value = '';
                                            }} 
                                            className="text-red-500 hover:text-red-700"
                                        >
                                            <XIcon />
                                        </button>
                                    </div>
                                )}
                            </div>
                        )}

                        <div className="flex gap-2 items-end bg-slate-50 p-3 rounded-2xl border-2 border-transparent focus-within:border-indigo-400 focus-within:bg-white transition-all shadow-sm">
                            <button 
                                onClick={() => fileRef.current?.click()} 
                                className="p-2.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors"
                                title="Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±"
                            >
                                <ImageIcon />
                            </button>
                            <input 
                                type="file" 
                                ref={fileRef} 
                                accept="image/*" 
                                className="hidden" 
                                onChange={(e) => {
                                    const file = e.target.files[0];
                                    if (file) {
                                        const reader = new FileReader();
                                        reader.onload = (e) => setImage(e.target.result);
                                        reader.readAsDataURL(file);
                                    }
                                }}
                            />

                            <button 
                                onClick={() => fileInputRef.current?.click()} 
                                className="p-2.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors"
                                title="Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„"
                            >
                                <UploadIcon />
                            </button>
                            <input 
                                type="file" 
                                ref={fileInputRef.current} 
                                accept=".pdf,.doc,.docx,.txt,.ppt,.pptx,.xls,.xlsx" 
                                className="hidden" 
                                onChange={handleFileUpload}
                            />

                            <textarea 
                                value={input} 
                                onChange={e => setInput(e.target.value)}
                                onKeyDown={e => {
                                    if (e.key === 'Enter' && !e.shiftKey) {
                                        e.preventDefault();
                                        sendMessage();
                                    }
                                }}
                                placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯... (Enter Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ØŒ Shift+Enter Ø¨Ø±Ø§ÛŒ Ø®Ø· Ø¬Ø¯ÛŒØ¯)"
                                className="flex-1 bg-transparent border-none focus:ring-0 resize-none py-2 text-sm max-h-32 text-slate-800 placeholder-slate-400"
                                rows="1"
                            ></textarea>

                            <button 
                                onClick={sendMessage} 
                                disabled={loading || (!input.trim() && !image && !uploadedFile)} 
                                className="btn-primary p-3 text-white rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
                                title="Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…"
                            >
                                {loading ? (
                                    <LoaderIcon />
                                ) : (
                                    <SendIcon />
                                )}
                            </button>
                        </div>

                        <div className="mt-2 text-center">
                            <a 
                                href={WEBSITE_URL} 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="text-xs text-indigo-600 hover:text-indigo-800 transition-colors"
                            >
                                <i className="fas fa-link ml-1"></i>
                                Ø§ØªØµØ§Ù„ Ø¨Ù‡ ÙˆØ¨â€ŒØ³Ø§ÛŒØª
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
